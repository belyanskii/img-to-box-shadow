<!DOCTYPE html>
<html>
<head>
    <title>Image to box-shadow converter</title>
    <link rel="stylesheet" href="css/style.css">
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
    <script type="text/javascript">
        $(function () {
            $('img').click(function () {

                if (!this.canvas) {
                    this.canvas = $('<canvas/>').css({width:this.width + 'px', height:this.height + 'px'})[0];
                    this.canvas.getContext('2d').drawImage(this, 0, 0, this.width, this.height);
                }

                var width = this.width,
                    height = this.height,
                    pixelData = this.canvas.getContext('2d').getImageData(1, 1, width, height).data,
                    ColorArr = [];

                for (var i= 0, x = 1, y = 0;i<pixelData.length;i+=4,x+=1){
                    if(i%(width-1) == 0){
                        y += 1;
                    }
                    if(x == width+1){
                        x = 1;
                    }
                    if(y == height+1){
                        y = 0;
                    }
                    var alpha = pixelData[i+3]/255;
                    var rgbaColor = x+'em '+y+'em rgba('+pixelData[i+0]+','+pixelData[i+1]+','+pixelData[i+2]+','+alpha.toFixed(3)+')';
                    if(pixelData[i+3] != 0){
                        ColorArr.push(rgbaColor);
                    }
                }
                console.log(ColorArr.join());
                $('.b-output').css('box-shadow', ColorArr.join());
            });
        });
    </script>
</head>
<body>
<form onSubmit="return false">
    <label for="image_url">Image Url</label>
    <input id="image_url" name="image_url" type="text" value="">
    <button onclick="$('.b-original').attr('src', $('#image_url').attr('value'));">Go!</button>
</form>
<img class="b-original" src="img/minecraft.png">
<div class="b-output"></div>
</body>
</html>