<!DOCTYPE html>
<html>
<head>
    <title>Image to box-shadow converter</title>
    <link rel="stylesheet" href="css/style.css">
    <script type="text/javascript" src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="js/image_to_box_shadow.js"></script>
    <script type="text/javascript">
        $(function(){
            $('img').click(function(){
                imageToBoxShadow($('.b-original'), $('.b-output'));
            });

            $('.b-original_src').change(function(){

                var oFReader = new FileReader(),
                    rFilter = /^(?:image\/bmp|image\/cis\-cod|image\/gif|image\/ief|image\/jpeg|image\/jpeg|image\/jpeg|image\/pipeg|image\/png|image\/svg\+xml|image\/tiff|image\/x\-cmu\-raster|image\/x\-cmx|image\/x\-icon|image\/x\-portable\-anymap|image\/x\-portable\-bitmap|image\/x\-portable\-graymap|image\/x\-portable\-pixmap|image\/x\-rgb|image\/x\-xbitmap|image\/x\-xpixmap|image\/x\-xwindowdump)$/i,
                    image_src = $('.b-original_src')[0].files;

                oFReader.onload = function (oFREvent) {
                    $('.b-original').attr('src', oFREvent.target.result);
                };

                if (image_src.length === 0) { return; }
                var oFile = image_src[0];
                if (!rFilter.test(oFile.type)) { alert("You must select a valid image file!"); return; }
                oFReader.readAsDataURL(oFile);
            });
        });
    </script>
</head>
<body>
<div class="b-wrapper">
    <img class="b-original" src="img/minecraft.png">
    <div class="b-output"></div>
    <input class="b-original_src" type="file" name="image_src">
    <p>click on image to convert</p>
</div>
</body>

</html>